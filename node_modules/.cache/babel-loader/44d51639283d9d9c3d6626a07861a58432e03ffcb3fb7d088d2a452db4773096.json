{"ast":null,"code":"var _jsxFileName = \"/media/tarik/CoderBD/Learn Germany/motive-a1-audio-app/src/App.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport { pdfjs } from \"react-pdf\";\nimport { Document, Page } from \"react-pdf\";\nimport \"react-pdf/dist/esm/Page/AnnotationLayer.css\";\nimport { Howl } from \"howler\";\nimport audioMap from \"./audioMap\";\nimport \"./index.css\";\n\n// Set PDF.js worker path\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\nexport default function App() {\n  _s();\n  const [numPages, setNumPages] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const scale = 1.5;\n  const currentSound = useRef(null);\n  const handlePlay = audioSrc => {\n    // Stop currently playing audio\n    if (currentSound.current) {\n      currentSound.current.stop();\n    }\n    const sound = new Howl({\n      src: [audioSrc],\n      html5: true\n    });\n    currentSound.current = sound;\n    sound.play();\n  };\n  const stopAudio = () => {\n    if (currentSound.current) {\n      currentSound.current.stop();\n      currentSound.current = null;\n    }\n  };\n  const goToPrevPage = () => {\n    setCurrentPage(prev => {\n      const nextPage = Math.max(prev - 1, 1);\n      if (nextPage !== prev) stopAudio();\n      return nextPage;\n    });\n  };\n  const goToNextPage = () => {\n    setCurrentPage(prev => {\n      const nextPage = Math.min(prev + 1, numPages);\n      if (nextPage !== prev) stopAudio();\n      return nextPage;\n    });\n  };\n  useEffect(() => {\n    return () => {\n      stopAudio(); // Cleanup on unmount\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Motive A1 Kursbuch\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Read and listen interactively\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pdf-viewer\",\n      children: [/*#__PURE__*/_jsxDEV(Document, {\n        file: \"/motive-a1-kursbuch-1.pdf\",\n        onLoadSuccess: ({\n          numPages\n        }) => setNumPages(numPages),\n        children: /*#__PURE__*/_jsxDEV(Page, {\n          pageNumber: currentPage,\n          scale: scale,\n          renderTextLayer: false,\n          renderAnnotationLayer: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), audioMap.filter(a => a.page === currentPage).map((btn, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"audio-btn\",\n        style: {\n          top: btn.y,\n          left: btn.x\n        },\n        onClick: () => handlePlay(btn.audio),\n        children: [\"\\uD83D\\uDD0A \", btn.label]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed-navbar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: goToPrevPage,\n          children: \"\\u2B05 Prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Page \", currentPage, \" / \", numPages]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: goToNextPage,\n          children: \"Next \\u27A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"PcfFTSy2+YMcSJpfHTDj43cVvWU=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useRef","useState","pdfjs","Document","Page","Howl","audioMap","jsxDEV","_jsxDEV","GlobalWorkerOptions","workerSrc","version","App","_s","numPages","setNumPages","currentPage","setCurrentPage","scale","currentSound","handlePlay","audioSrc","current","stop","sound","src","html5","play","stopAudio","goToPrevPage","prev","nextPage","Math","max","goToNextPage","min","className","children","fileName","_jsxFileName","lineNumber","columnNumber","file","onLoadSuccess","pageNumber","renderTextLayer","renderAnnotationLayer","filter","a","page","map","btn","idx","style","top","y","left","x","onClick","audio","label","_c","$RefreshReg$"],"sources":["/media/tarik/CoderBD/Learn Germany/motive-a1-audio-app/src/App.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport { pdfjs } from \"react-pdf\";\nimport { Document, Page } from \"react-pdf\";\nimport \"react-pdf/dist/esm/Page/AnnotationLayer.css\";\nimport { Howl } from \"howler\";\nimport audioMap from \"./audioMap\";\nimport \"./index.css\";\n\n// Set PDF.js worker path\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\n\nexport default function App() {\n  const [numPages, setNumPages] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const scale = 1.5;\n\n  const currentSound = useRef(null);\n\n  const handlePlay = (audioSrc) => {\n    // Stop currently playing audio\n    if (currentSound.current) {\n      currentSound.current.stop();\n    }\n\n    const sound = new Howl({\n      src: [audioSrc],\n      html5: true\n    });\n\n    currentSound.current = sound;\n    sound.play();\n  };\n\n  const stopAudio = () => {\n    if (currentSound.current) {\n      currentSound.current.stop();\n      currentSound.current = null;\n    }\n  };\n\n  const goToPrevPage = () => {\n    setCurrentPage((prev) => {\n      const nextPage = Math.max(prev - 1, 1);\n      if (nextPage !== prev) stopAudio();\n      return nextPage;\n    });\n  };\n\n  const goToNextPage = () => {\n    setCurrentPage((prev) => {\n      const nextPage = Math.min(prev + 1, numPages);\n      if (nextPage !== prev) stopAudio();\n      return nextPage;\n    });\n  };\n\n  useEffect(() => {\n    return () => {\n      stopAudio(); // Cleanup on unmount\n    };\n  }, []);\n\n  return (\n    <div className=\"app-container\">\n      <header className=\"header\">\n        <h1>Motive A1 Kursbuch</h1>\n        <p>Read and listen interactively</p>\n      </header>\n\n      <div className=\"pdf-viewer\">\n        <Document\n          file=\"/motive-a1-kursbuch-1.pdf\"\n          onLoadSuccess={({ numPages }) => setNumPages(numPages)}\n        >\n          <Page\n            pageNumber={currentPage}\n            scale={scale}\n            renderTextLayer={false}\n            renderAnnotationLayer={false}\n          />\n        </Document>\n\n        {audioMap\n          .filter(a => a.page === currentPage)\n          .map((btn, idx) => (\n            <button\n              key={idx}\n              className=\"audio-btn\"\n              style={{ top: btn.y, left: btn.x }}\n              onClick={() => handlePlay(btn.audio)}\n            >\n              ðŸ”Š {btn.label}\n            </button>\n          ))}\n      </div>\n\n      <div className=\"fixed-navbar\">\n        <div className=\"nav-controls\">\n          <button onClick={goToPrevPage}>â¬… Prev</button>\n          <span>Page {currentPage} / {numPages}</span>\n          <button onClick={goToNextPage}>Next âž¡</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}